<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}ココトシ{% endblock %}</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}?v=3">
  <style>
    td {
      font-size: 14px;
      vertical-align: middle;
    }
    .feeling-0 { color: gray; }
    .feeling-1 { color: #d9534f; }
    .feeling-2 { color: #f0ad4e; }
    .feeling-3 { color: #5bc0de; }
    .feeling-4 { color: #5cb85c; }
    .feeling-5 { color: #428bca; }
  </style>

<style>
  nav.bottom-nav {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    background: white !important;
    z-index: 99999 !important;
  }
</style>





</head>



<body class="fade-in">


<main class="main-content">
  {% block content %}
  {% endblock %}
</main>



  <nav class="bottom-nav">



<a href="/form" class="nav-item {% if current == 'form' %}active{% endif %}">
  <span class="icon">📝</span>
  <span class="label">入力</span>
</a>

<a href="/history" class="nav-item {% if current == 'history' %}active{% endif %}">
  <span class="icon">📊</span>
  <span class="label">履歴</span>
</a>

<a href="/summary" class="nav-item {% if current == 'summary' %}active{% endif %}">
  <span class="icon">📈</span>
  <span class="label">集計</span>
</a>

<a href="/settings" class="nav-item {% if current == 'settings' %}active{% endif %}">
  <span class="icon">⚙️</span>
  <span class="label">設定</span>
</a>

<a href="/matrix" class="nav-item {% if current == 'matrix' %}active{% endif %}">
  <span class="icon">🧠</span>
  <span class="label">マトリクス</span>
</a>




</nav>

<script>
function adjustBottomPadding() {
  var content = document.querySelector('.main-content');
  var nav = document.querySelector('.bottom-nav');
  if (!content || !nav) return;

  var navHeight = nav.offsetHeight || 90;
  var visualHeight = window.visualViewport ? window.visualViewport.height : window.innerHeight;
  var docHeight = document.body.scrollHeight;

  // 「ページ実高＋ナビ高さ」が画面表示領域より小さければ、余白を増やす
  if (docHeight < visualHeight + navHeight) {
    content.style.paddingBottom = (navHeight + 40) + 'px'; // 必要なら+50でもOK
  } else {
    content.style.paddingBottom = navHeight + 'px';
  }
}

// 初回＋リサイズ時に発動！
window.addEventListener('DOMContentLoaded', adjustBottomPadding);
window.addEventListener('resize', adjustBottomPadding);
</script>






</body>



</html>